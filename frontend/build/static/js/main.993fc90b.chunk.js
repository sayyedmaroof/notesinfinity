(this["webpackJsonpnotes-infinity-frontend"]=this["webpackJsonpnotes-infinity-frontend"]||[]).push([[0],{143:function(e,t,a){},144:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(31),c=a.n(r),i=(a(143),a(144),a(11)),o=a(278),l=a(285),j=a(286),d=a(282),u=a(48),b=Object(n.createContext)(),h=a(1),x=function(){var e=Object(i.k)(),t=Object(n.useContext)(b),a=t.logout,s=t.logoutAll,r=t.user;return Object(h.jsx)(l.a,{className:"sticky-top",bg:"primary",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(u.LinkContainer,{to:"/",children:Object(h.jsx)(l.a.Brand,{children:"Notes Infinity"})}),Object(h.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(j.a,{className:"ms-auto",children:[Object(h.jsx)(u.LinkContainer,{to:"/",exact:!0,children:Object(h.jsx)(j.a.Link,{children:"Home"})}),Object(h.jsx)(u.LinkContainer,{to:"/about",children:Object(h.jsx)(j.a.Link,{children:"About"})}),r?Object(h.jsxs)(d.a,{title:r.name,id:"username",children:[Object(h.jsx)(u.LinkContainer,{to:"/profile",children:Object(h.jsxs)(d.a.Item,{children:[Object(h.jsx)("i",{className:"fas fa-user"})," Profile"]})}),Object(h.jsxs)(d.a.Item,{onClick:function(){a(),e.push("/login")},children:[Object(h.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]}),Object(h.jsxs)(d.a.Item,{onClick:function(){s(),e.push("/login")},children:[Object(h.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout All ",Object(h.jsx)("br",{}),"Devices"]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.LinkContainer,{to:"/login",children:Object(h.jsxs)(j.a.Link,{children:[Object(h.jsx)("i",{className:"fas fa-sign-in-alt"})," Login"]})}),Object(h.jsx)(u.LinkContainer,{to:"/signup",children:Object(h.jsxs)(j.a.Link,{children:[Object(h.jsx)("i",{className:"fas fa-user-plus"})," Signup"]})})]})]})})]})})},m=a(279),O=function(){return Object(h.jsx)(m.a,{animation:"border",role:"status",style:{width:"15vw",height:"15vw",margin:"auto",display:"block",position:"fixed",top:"30%",left:"40%",zIndex:"9999"},children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})},p=a(280),g=function(e){var t=e.variant,a=e.children;return Object(h.jsx)(p.a,{style:{position:"fixed",top:"88px",left:"20%",width:"60%",zIndex:"9999",margin:"auto",marginTop:"10px",borderRadius:"5px",opacity:".9",textAlign:"center"},variant:t,children:Object(h.jsx)("strong",{className:"font-weight-bold",children:a})})};g.defaultProps={variant:"info"};var f=g,v=Object(n.createContext)(),y=a(281),w=a(133),N=a(41),C=a(35),k=a(8),S=a(284),I=a(131),L=function(){var e=Object(n.useContext)(v).addNote,t=Object(n.useState)({title:"",description:"",tag:""}),a=Object(k.a)(t,2),s=a[0],r=a[1],c=function(e){r(Object(C.a)(Object(C.a)({},s),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"my-3",children:"Add a note!"}),Object(h.jsxs)(S.a,{onSubmit:function(t){t.preventDefault(),e(s.title,s.description,s.tag),r({title:"",description:"",tag:""})},children:[Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Title"})]}),Object(h.jsx)(S.a.Control,{type:"text",name:"title",placeholder:"Enter title",value:s.title,onChange:c})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Description"})]}),Object(h.jsx)(S.a.Control,{type:"text",name:"description",placeholder:"Enter description",value:s.description,onChange:c})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Tag"})]}),Object(h.jsx)(S.a.Control,{type:"text",name:"tag",placeholder:"Default: general",value:s.tag,onChange:c})]}),Object(h.jsx)(I.a,{variant:"primary",type:"submit",children:"Add Note"})]})]})},E=a(287),P=a(283),T=function(e){var t=Object(n.useState)(!1),a=Object(k.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(e.note),i=Object(k.a)(c,2),o=i[0],l=i[1],j=function(){return r(!1)},d=function(e){l(Object(C.a)(Object(C.a)({},o),{},Object(N.a)({},e.target.name,e.target.value)))},u=Object(n.useContext)(v).editNote;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(I.a,{size:"sm",className:"mx-2",variant:"primary",onClick:function(){return r(!0)},children:Object(h.jsx)("i",{className:"fas fa-edit"})}),Object(h.jsxs)(P.a,{show:s,onHide:j,children:[Object(h.jsx)(P.a.Header,{closeButton:!0,children:Object(h.jsx)(P.a.Title,{children:"Edit Note"})}),Object(h.jsx)(P.a.Body,{children:Object(h.jsxs)(S.a,{children:[Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Title"})]}),Object(h.jsx)(S.a.Control,{type:"text",name:"title",value:o.title,placeholder:"Enter title",onChange:d})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Description"})]}),Object(h.jsx)(S.a.Control,{type:"text",name:"description",value:o.description,placeholder:"Enter description",onChange:d})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Tag"})]}),Object(h.jsx)(S.a.Control,{type:"text",name:"tag",value:o.tag,placeholder:"Enter tag",onChange:d})]})]})}),Object(h.jsxs)(P.a.Footer,{children:[Object(h.jsx)(I.a,{variant:"secondary",onClick:j,children:"Cancel"}),Object(h.jsx)(I.a,{variant:"primary",onClick:function(){u(o._id,o.title,o.description,o.tag),r(!1)},children:"Save Changes"})]})]})]})},F=function(e){var t=e.note,a=Object(n.useState)(!1),s=Object(k.a)(a,2),r=s[0],c=s[1],i=function(){return c(!1)},o=Object(n.useContext)(v).deleteNote;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(I.a,{size:"sm",variant:"primary",className:"mx-2",onClick:function(){return c(!0)},children:Object(h.jsx)("i",{className:"fas fa-trash"})}),Object(h.jsxs)(P.a,{show:r,onHide:i,children:[Object(h.jsx)(P.a.Header,{closeButton:!0,children:Object(h.jsx)(P.a.Title,{children:"Delete This Note !"})}),Object(h.jsxs)(P.a.Body,{children:["Are you sure you want to permanently delete this note with the tilte:",Object(h.jsxs)("strong",{children:[" ",t.title," "]})]}),Object(h.jsxs)(P.a.Footer,{children:[Object(h.jsx)(I.a,{variant:"secondary",onClick:i,children:"Cancel"}),Object(h.jsx)(I.a,{variant:"primary",onClick:function(){o(t._id),c(!1)},children:"Delete"})]})]})]})},B=function(e){var t=e.note;return Object(h.jsxs)(E.a,{bg:"secondary",text:"dark",border:"dark",className:"my-2",children:[Object(h.jsxs)(E.a.Header,{as:"h5",children:["#",t.tag]}),Object(h.jsxs)(E.a.Body,{children:[Object(h.jsx)(E.a.Title,{as:"h4",children:t.title}),Object(h.jsx)(E.a.Text,{children:t.description}),Object(h.jsx)("hr",{}),Object(h.jsxs)("small",{className:"timestamps",children:[Object(h.jsx)("strong",{children:"Created:"})," ",Object(h.jsx)("span",{className:"text-muted",children:new Date(t.createdAt).toLocaleString()})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("small",{className:"timestamps",children:[Object(h.jsx)("strong",{children:"Last Updated:"})," ",Object(h.jsx)("span",{className:"text-muted",children:new Date(t.updatedAt).toLocaleString()})]})]}),Object(h.jsxs)(E.a.Footer,{className:"d-flex align-items-center justify-content-center",children:[Object(h.jsx)(T,{className:"mx-2",note:t}),Object(h.jsx)(F,{className:"mx-2",note:t})]})]})},A=function(){var e=Object(n.useContext)(v),t=e.notes,a=e.fetchNotes,s=JSON.parse(localStorage.getItem("userInfo"));return Object(n.useEffect)((function(){a()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(L,{}),Object(h.jsx)("h2",{className:"my-3",children:"Your Notes"}),Object(h.jsxs)(h.Fragment,{children:[s?Object(h.jsx)(h.Fragment,{children:0===t.length&&Object(h.jsxs)(p.a,{variant:"info",children:[Object(h.jsx)(p.a.Heading,{children:"Note notes to show"}),Object(h.jsx)("p",{children:"Please add a note to dispaly here"})]})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(p.a,{variant:"info",children:[Object(h.jsx)(p.a.Heading,{children:"Note notes to show"}),Object(h.jsx)("p",{children:"Please login to the app to view your notes"})]})}),Object(h.jsx)(y.a,{children:t.map((function(e){return Object(h.jsx)(w.a,{md:4,sm:6,lg:3,children:Object(h.jsx)(B,{note:e})},e._id)}))})]})]})},G=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(A,{})})},J=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"About Notes Infinity"}),Object(h.jsx)("p",{children:"This is a notes taking application which is free and easy to use. You can easily register to this applicaion and start writing your personal notes for future reading."}),Object(h.jsx)("p",{children:"Notes you store here are going to be private and no other persons can view your notes except you."}),Object(h.jsx)("p",{children:"You can login to this applicaion in different divices and also you can logout from all devices from any one device you are logged in at that time."}),Object(h.jsx)("p",{children:"You can also manage your notes by adding new notes, edit your existing notes and deleting your notes."}),Object(h.jsxs)("p",{children:[Object(h.jsx)("i",{children:"Notes Infinity"})," also allows you to edit your profile and also permanently delete your account so that your previously saved note will also be deleted along with your profile."]})]})},q=a(132),D=a(25),H=a(27),V=a(83),z=function(){var e=Object(n.useContext)(b).login,t=H.b({email:H.d().email("Email is invalid").required("Email is required"),password:H.d().min(6,"Password must be at least 6 charaters").required("Password is required")});return Object(h.jsx)(V.a,{initialValues:{email:"",password:""},validationSchema:t,onSubmit:function(t,a){var n=a.setSubmitting;a.resetForm;n(!0);try{e(t.email,t.password),n(!1)}catch(s){console.log(s.message)}},children:function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,r=e.handleBlur,c=e.handleSubmit,i=(e.isValid,e.isSubmitting);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(y.a,{className:"justify-content-md-center",children:Object(h.jsxs)(w.a,{xs:12,md:6,children:[Object(h.jsx)("h3",{children:"This is login page and you can login "}),Object(h.jsxs)(S.a,{noValidate:!0,onSubmit:c,children:[Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsx)(S.a.Label,{children:"Email address"}),Object(h.jsx)(S.a.Control,{autoComplete:"off",name:"email",type:"email",placeholder:"Enter email",onChange:s,onBlur:r,value:t.email,isValid:n.email&&!a.email,isInvalid:n.email&&a.email}),Object(h.jsx)(S.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."}),Object(h.jsx)(q.a.Feedback,{type:"invalid",children:a.email})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsx)(S.a.Label,{children:"Password"}),Object(h.jsx)(S.a.Control,{name:"password",type:"password",placeholder:"Enter password",onChange:s,onBlur:r,value:t.password,isValid:n.password&&!a.password,isInvalid:n.password&&a.password}),Object(h.jsx)(q.a.Feedback,{type:"invalid",children:a.password})]}),Object(h.jsx)(I.a,{variant:"primary",type:"submit",disabled:i,children:"Signup"})]}),Object(h.jsx)(y.a,{className:"py-3",children:Object(h.jsxs)(w.a,{children:["New User? ",Object(h.jsx)(D.Link,{to:"/signup",children:"Signup"})]})})]})})})}})},Y=function(){var e=Object(n.useContext)(b).signup,t=H.b({name:H.d().min(3,"Name must be atleast 3 or more characters").max(20,"Must be 20 characters or less").required("Name is required"),email:H.d().email("Email is invalid").required("Email is required"),password:H.d().min(6,"Password must be at least 6 charaters").required("Password is required"),confirmPassword:H.d().oneOf([H.c("password"),null],"Password must match").required("Confirm password is required"),age:H.a().positive().integer().typeError("Age must be a number")});return Object(h.jsx)(V.a,{initialValues:{name:"",email:"",age:"",password:"",confirmPassword:""},validationSchema:t,onSubmit:function(t,a){var n=a.setSubmitting;a.resetForm;n(!0);try{e(t.name,t.email,t.password,t.age),n(!1)}catch(s){console.log(s.message)}},children:function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,r=e.handleBlur,c=e.handleSubmit,i=(e.isValid,e.isSubmitting);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(y.a,{className:"justify-content-md-center",children:Object(h.jsxs)(w.a,{xs:12,md:6,children:[Object(h.jsx)("h2",{children:"Welcome to signup page"}),Object(h.jsxs)(S.a,{noValidate:!0,onSubmit:c,children:[Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsx)(S.a.Label,{children:"Name"}),Object(h.jsx)(S.a.Control,{autoComplete:"new-password",name:"name",type:"text",placeholder:"Enter name",onChange:s,onBlur:r,value:t.name,isValid:n.name&&!a.name,isInvalid:n.name&&a.name}),Object(h.jsx)(S.a.Control.Feedback,{type:"invalid",children:a.name})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsx)(S.a.Label,{children:"Email address"}),Object(h.jsx)(S.a.Control,{autoComplete:"off",name:"email",type:"email",placeholder:"Enter email",onChange:s,onBlur:r,value:t.email,isValid:n.email&&!a.email,isInvalid:n.email&&a.email}),Object(h.jsx)(S.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."}),Object(h.jsx)(q.a.Feedback,{type:"invalid",children:a.email})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsx)(S.a.Label,{children:"Enter Your Age"}),Object(h.jsx)(S.a.Control,{name:"age",type:"text",placeholder:"Enter age",onChange:s,onBlur:r,value:t.age,isValid:n.age&&!a.age,isInvalid:n.age&&a.age}),Object(h.jsx)(q.a.Feedback,{type:"invalid",children:a.age})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsx)(S.a.Label,{children:"Password"}),Object(h.jsx)(S.a.Control,{name:"password",type:"password",placeholder:"Enter password",onChange:s,onBlur:r,value:t.password,isValid:n.password&&!a.password,isInvalid:n.password&&a.password}),Object(h.jsx)(q.a.Feedback,{type:"invalid",children:a.password})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsx)(S.a.Label,{children:"Confirm Password"}),Object(h.jsx)(S.a.Control,{name:"confirmPassword",type:"password",placeholder:"Enter password",onChange:s,onBlur:r,value:t.confirmPassword,isValid:n.confirmPassword&&!a.confirmPassword,isInvalid:n.confirmPassword&&a.confirmPassword}),Object(h.jsx)(q.a.Feedback,{type:"invalid",children:a.confirmPassword})]}),Object(h.jsx)(I.a,{variant:"primary",type:"submit",disabled:i,children:"Signup"})]}),Object(h.jsx)(y.a,{className:"py-3",children:Object(h.jsxs)(w.a,{children:["Already have an account? ",Object(h.jsx)(D.Link,{to:"/login",children:"Login"})]})})]})})})}})},M=function(){var e=Object(n.useState)(!1),t=Object(k.a)(e,2),a=t[0],s=t[1],r=Object(n.useContext)(b).deleteProfile,c=function(){return s(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(I.a,{variant:"danger",className:"mb-2",onClick:function(){return s(!0)},children:[Object(h.jsx)("i",{className:"fas fa-trash"})," Delete Profile"]}),Object(h.jsxs)(P.a,{show:a,onHide:c,children:[Object(h.jsx)(P.a.Header,{closeButton:!0,children:Object(h.jsx)(P.a.Title,{children:"Delete Your Profile"})}),Object(h.jsx)(P.a.Body,{children:"Are you sure you want to permanently delete your profile! This will also remove all your saved notes."}),Object(h.jsxs)(P.a.Footer,{children:[Object(h.jsx)(I.a,{variant:"secondary",onClick:c,children:"Cancel"}),Object(h.jsx)(I.a,{variant:"danger",onClick:function(){r(),s(!1)},children:"Yes, delete"})]})]})]})},U=a(9),_=a.n(U),W=a(16),R=function(){var e=Object(n.useState)(!1),t=Object(k.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)({}),c=Object(k.a)(r,2),i=c[0],o=c[1],l=Object(n.useContext)(b),j=l.editProfile,d=l.readProfile;Object(n.useEffect)((function(){var e=function(){var e=Object(W.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var u=function(){return s(!1)},x=function(e){o(Object(C.a)(Object(C.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(I.a,{variant:"secondary",className:"mb-2",onClick:function(){return s(!0)},children:[Object(h.jsx)("i",{className:"fas fa-edit"})," Edit Profile"]}),Object(h.jsxs)(P.a,{show:a,onHide:u,children:[Object(h.jsx)(P.a.Header,{closeButton:!0,children:Object(h.jsx)(P.a.Title,{children:"Edit Your Profile"})}),Object(h.jsx)(P.a.Body,{children:Object(h.jsxs)(S.a,{children:[Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Name"})]}),Object(h.jsx)(S.a.Control,{type:"text",name:"name",value:i&&i.name,placeholder:"Enter Name",onChange:x})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Email"})]}),Object(h.jsx)(S.a.Control,{type:"email",name:"email",value:i&&i.email,placeholder:"Enter email",onChange:x})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"Age"})]}),Object(h.jsx)(S.a.Control,{type:"text",name:"age",value:i&&i.age,placeholder:"Enter age",onChange:x})]}),Object(h.jsxs)(S.a.Group,{className:"mb-3",children:[Object(h.jsxs)(S.a.Label,{children:[" ",Object(h.jsx)("b",{children:"New Password"})]}),Object(h.jsx)(S.a.Control,{type:"password",name:"password",value:i&&i.password,placeholder:"Enter Password",onChange:x}),Object(h.jsx)(S.a.Text,{className:"text-muted",children:"Enter new password if you wish to change your current password"})]})]})}),Object(h.jsxs)(P.a.Footer,{children:[Object(h.jsx)(I.a,{variant:"secondary",onClick:u,children:"Cancel"}),Object(h.jsx)(I.a,{variant:"primary",onClick:function(){j(i.name,i.email,i.age,i.password),s(!1)},children:"Save Changes"})]})]})]})},K=function(){var e=Object(n.useContext)(b).user,t=Object(i.k)();return Object(n.useEffect)((function(){e||t.push("/")}),[e]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(y.a,{className:"justify-content-md-center",children:Object(h.jsx)(w.a,{xs:12,sm:10,md:6,xl:5,children:Object(h.jsxs)(E.a,{bg:"dark",text:"white",border:"success",className:"rounded p-3",children:[Object(h.jsxs)(E.a.Header,{children:[Object(h.jsx)("span",{className:"fa fa-user fa-5x  icon-logo"}),Object(h.jsx)(E.a.Title,{className:"text-center",children:Object(h.jsx)("h3",{className:"my-3 text-white",children:e&&e.name})})]}),Object(h.jsx)(E.a.Body,{children:Object(h.jsxs)(y.a,{children:[Object(h.jsx)(w.a,{xs:4,children:Object(h.jsx)("strong",{children:"Email: "})}),Object(h.jsx)(w.a,{xs:8,children:e&&e.email}),Object(h.jsx)("hr",{}),Object(h.jsx)(w.a,{xs:4,children:Object(h.jsx)("strong",{children:"Age: "})}),Object(h.jsx)(w.a,{xs:8,children:e&&e.age}),Object(h.jsx)("hr",{}),Object(h.jsx)(w.a,{xs:4,children:Object(h.jsx)("strong",{children:"Joining Date: "})}),Object(h.jsx)(w.a,{xs:8,children:new Date(e&&e.createdAt).toLocaleString()}),Object(h.jsx)("hr",{})]})}),Object(h.jsx)(E.a.Footer,{text:"white",children:Object(h.jsxs)("div",{className:"d-grid gap-2",children:[Object(h.jsx)(R,{}),Object(h.jsx)(M,{})]})})]})})})})},Q=function(){return Object(h.jsx)("footer",{className:"bg-primary mt-auto",children:Object(h.jsx)(o.a,{children:Object(h.jsx)(y.a,{children:Object(h.jsx)(w.a,{className:"text-center py-3 ",children:Object(h.jsx)("strong",{className:"text-white",children:"Copyright \xa9 NotesInfinity"})})})})})};var X=function(){var e=Object(n.useContext)(v),t=e.notesError,a=e.notesLoading,s=e.notesMessage,r=Object(n.useContext)(b),c=r.userError,l=r.userLoading,j=r.userMessage;return Object(h.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[Object(h.jsx)(x,{}),Object(h.jsxs)("main",{className:"py-3",children:[a&&Object(h.jsx)(O,{}),l&&Object(h.jsx)(O,{}),t&&Object(h.jsx)(f,{variant:t.variant,children:t.message}),c&&Object(h.jsx)(f,{variant:c.variant,children:c.message}),s&&Object(h.jsx)(f,{variant:s.variant,children:s.message}),j&&Object(h.jsx)(f,{variant:j.variant,children:j.message}),Object(h.jsxs)(o.a,{children:[Object(h.jsx)(i.d,{path:"/profile",exact:!0,children:Object(h.jsx)(K,{})}),Object(h.jsx)(i.d,{path:"/signup",exact:!0,children:Object(h.jsx)(Y,{})}),Object(h.jsx)(i.d,{path:"/login",exact:!0,children:Object(h.jsx)(z,{})}),Object(h.jsx)(i.d,{path:"/about",exact:!0,children:Object(h.jsx)(J,{})}),Object(h.jsx)(i.d,{path:"/",exact:!0,children:Object(h.jsx)(G,{})})]})]}),Object(h.jsx)(Q,{})]})},Z=a(24),$=a.n(Z);function ee(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t];return e}var te=function(e){var t=Object(n.useState)([]),a=Object(k.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(null),i=Object(k.a)(c,2),o=i[0],l=i[1],j=Object(n.useState)(!1),d=Object(k.a)(j,2),u=d[0],b=d[1],x=Object(n.useState)(null),m=Object(k.a)(x,2),O=m[0],p=m[1];Object(n.useEffect)((function(){setTimeout((function(){l(null),p(null)}),3e3)}),[o,O]);var g=function(e,t){e.response?(401===e.response.status&&"Unauthorized"===e.response.statusText&&localStorage.removeItem("userInfo"),l({variant:"danger",message:"".concat(t," ").concat(e.response.data.error)})):e.request?l({variant:"danger",message:"".concat(t," No response from server!")}):l({variant:"danger",message:e.message}),b(!1)},f=function(){var e=Object(W.a)(_.a.mark((function e(){var t,a,n,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),t=JSON.parse(localStorage.getItem("userToken")),a={Authorization:"Bearer ".concat(t&&t)},e.next=6,$.a.get("api/notes/mynotes",{headers:a});case 6:n=e.sent,s=n.data,b(!1),r(s),l(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),g(e.t0,"Could not fetch notes!");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(W.a)(_.a.mark((function e(t,a,n){var c,i,o,j,d;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=ee({title:t,description:a,tag:n}),e.prev=1,b(!0),i=JSON.parse(localStorage.getItem("userToken")),o={Authorization:"Bearer ".concat(i&&i)},e.next=7,$.a.post("api/notes/create",c,{headers:o});case 7:j=e.sent,d=j.data,b(!1),r(s.concat(d)),p({variant:"success",message:"Note added successfully!"}),l(null),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),g(e.t0,"Could not add the note!");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(W.a)(_.a.mark((function e(t,a,n,c){var i,o,j,d;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),i=JSON.parse(localStorage.getItem("userToken")),o=ee({title:a,description:n,tag:c}),j={Authorization:"Bearer ".concat(i&&i)},e.next=7,$.a.patch("api/notes/mynotes/".concat(t),o,{headers:j});case 7:(d=s.slice()).forEach((function(e,s){e._id===t&&(d[s].title=a,d[s].description=n,d[s].tag=c)})),b(!1),r(d),p({variant:"success",message:"Note Updated successfully!"}),l(null),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),g(e.t0,"Could not update the note!");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a,n,s){return e.apply(this,arguments)}}(),N=function(){var e=Object(W.a)(_.a.mark((function e(t){var a,n,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),a=JSON.parse(localStorage.getItem("userToken")),n={Authorization:"Bearer ".concat(a&&a)},e.next=6,$.a.delete("api/notes/mynotes/".concat(t),{headers:n});case 6:c=s.filter((function(e){return e._id!==t})),b(!1),r(c),p({variant:"info",message:"Note was deleted"}),l(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),g(e.t0,"Could not delete the note!");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(v.Provider,{value:{notes:s,notesError:o,notesLoading:u,notesMessage:O,fetchNotes:f,addNote:y,editNote:w,deleteNote:N},children:e.children})};function ae(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t];return e}var ne=function(e){var t=Object(i.k)(),a=JSON.parse(localStorage.getItem("userToken")),s={Authorization:"Bearer ".concat(a&&a)},r=JSON.parse(localStorage.getItem("userInfo")),c=Object(n.useState)(r||null),o=Object(k.a)(c,2),l=o[0],j=o[1],d=Object(n.useState)(null),u=Object(k.a)(d,2),x=u[0],m=u[1],O=Object(n.useState)(!1),p=Object(k.a)(O,2),g=p[0],f=p[1],v=Object(n.useState)(null),y=Object(k.a)(v,2),w=y[0],N=y[1];Object(n.useEffect)((function(){setTimeout((function(){N(null),m(null)}),3e3)}),[w,x]);var C=function(e,t){void 0===t&&(t=""),e.response?(401===e.response.status&&"Unauthorized"===e.response.statusText&&localStorage.removeItem("userInfo"),m({variant:"danger",message:"".concat(t," ").concat(e.response.data.error)})):e.request?m({variant:"danger",message:"".concat(t," No response from server")}):m({variant:"danger",message:e.message}),f(!1)},S=function(){var e=Object(W.a)(_.a.mark((function e(a,n){var s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,$.a.post("api/users/login",{email:a,password:n});case 4:s=e.sent,r=s.data,localStorage.setItem("userInfo",JSON.stringify(r.user)),localStorage.setItem("userToken",JSON.stringify(r.token)),j(r.user),m(null),f(!1),N({variant:"success",message:"Logged In successfully"}),t.push("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),C(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(W.a)(_.a.mark((function e(a,n,s,r){var c,i,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=ae({name:a,email:n,password:s,age:r}),f(!0),e.next=5,$.a.post("api/users/register",c);case 5:i=e.sent,o=i.data,localStorage.setItem("userInfo",JSON.stringify(o.user)),localStorage.setItem("userToken",JSON.stringify(o.token)),j(o.user),m(null),f(!1),N({variant:"success",message:"Signed up successfully"}),t.push("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),C(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a,n,s){return e.apply(this,arguments)}}(),L=function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,$.a.post("api/users/logout",null,{headers:s});case 4:localStorage.removeItem("userInfo"),localStorage.removeItem("userToken"),j(null),m(null),f(!1),N({variant:"dark",message:"You have logged out!"}),t.push("/login"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),C(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,$.a.post("api/users/logoutall",null,{headers:s});case 4:localStorage.removeItem("userInfo"),localStorage.removeItem("userToken"),j(null),m(null),f(!1),N({variant:"dark",message:"You have successfully logged out from all devices!"}),t.push("/login"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),C(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(W.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,$.a.get("api/users/me",{headers:s});case 4:return t=e.sent,a=t.data,m(null),f(!1),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),C(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(W.a)(_.a.mark((function e(t,a,n,r){var c,i,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),c=ae({name:t,email:a,age:n,password:r}),e.next=5,$.a.patch("api/users/me",c,{headers:s});case 5:return i=e.sent,o=i.data,j(o),localStorage.setItem("userInfo",JSON.stringify(o)),m(null),f(!1),N({variant:"success",message:"Your profile was updated successfully"}),e.abrupt("return",o);case 15:e.prev=15,e.t0=e.catch(0),C(e.t0,"Could not update your profile!");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a,n,s){return e.apply(this,arguments)}}(),F=function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!1),e.next=4,$.a.delete("api/users/me",{headers:s});case 4:localStorage.removeItem("userInfo"),j(null),m(null),f(!1),N({variant:"danger",message:"Profile deleted"}),t.push("/login"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),C(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(b.Provider,{value:{user:l,userError:x,userLoading:g,userMessage:w,login:S,signup:I,logout:L,logoutAll:E,readProfile:P,editProfile:T,deleteProfile:F},children:e.children})};c.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(D.BrowserRouter,{children:Object(h.jsx)(ne,{children:Object(h.jsx)(te,{children:Object(h.jsx)(X,{})})})})}),document.getElementById("root"))}},[[273,1,2]]]);
//# sourceMappingURL=main.993fc90b.chunk.js.map